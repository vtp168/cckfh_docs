"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[577],{2577:(ei,j,s)=>{s.r(j),s.d(j,{DocumentLibraryModule:()=>Wn});var u=s(6895),T=s(8988),v=s(6308),ne=s(4913),k=s(6451),G=s(4968),C=s(8505),I=s(8372),O=s(1884),b=s(2676),ie=s(1312),D=s(1135),H=s(9646),Y=s(262),$=s(8746);class oe{get data(){return this._data}set data(o){this._data=o}constructor(o){this.documentService=o,this.documentsSubject=new D.X([]),this.responseHeaderSubject=new D.X(null),this.loadingSubject=new D.X(!1),this.loading$=this.loadingSubject.asObservable(),this.responseHeaderSubject$=this.responseHeaderSubject.asObservable()}connect(o){return this.documentsSubject.asObservable()}disconnect(o){this.documentsSubject.complete(),this.loadingSubject.complete()}loadDocuments(o){this.loadingSubject.next(!0),this.documentService.getDocuments(o).pipe((0,Y.K)(()=>(0,H.of)([])),(0,$.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{const i=new ie.E;i.pageSize=parseInt(t.headers.get("pageSize")),i.totalCount=parseInt(t.headers.get("totalCount")),i.skip=parseInt(t.headers.get("skip")),this.responseHeaderSubject.next(i),this._data=[...t.body],this._data.forEach(r=>r.location=r.location??"local"),this.documentsSubject.next(this._data)})}}var re=s(5017),ae=s(7281),m=s(4006),_=s(5412),p=s(2851),R=s(4598),A=s(1357),V=s(8912),e=s(4650),se=s(3037),y=s(690),L=s(7185),P=s(3023),S=s(6107),E=s(4859),N=s(7392),U=s(1572),Q=s(6709),J=s(1948),g=s(5415),F=s(9383);function ce(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT_IS_REQUIRED")," "))}function me(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ce,3,3,"div",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("subject").errors?null:t.reminderForm.get("subject").errors.required)}}function le(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MESSAGE_IS_REQUIRED")," "))}function de(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,le,3,3,"div",26),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("message").errors?null:t.reminderForm.get("message").errors.required)}}function ue(n,o){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",null==t?null:t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,null==t?null:t.name.toUpperCase())," ")}}function _e(n,o){1&n&&(e.TgZ(0,"div")(1,"div",27),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"FREQUENCY_IS_REQUIRED")," "))}function pe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",28)(2,"label",29),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",30),e.NdJ("change",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onFrequencyChange())}),e.TgZ(6,"option",31),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.YNc(9,ue,3,4,"option",32),e.qZA(),e.YNc(10,_e,4,3,"div",11),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,4,"FREQUENCY"),""),e.xp6(4),e.hij("--",e.lcZ(8,6,"NONE"),"--"),e.xp6(2),e.Q6J("ngForOf",t.reminderFrequencies),e.xp6(1),e.Q6J("ngIf",t.reminderForm.get("frequency").hasError("required"))}}function ge(n,o){if(1&n&&(e.TgZ(0,"div",40),e.ynx(1,41),e.TgZ(2,"mat-checkbox",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk(),e.qZA()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.hij(" ",e.lcZ(4,2,t.get("name").value.toUpperCase())," ")}}function he(n,o){if(1&n&&(e.TgZ(0,"div",36)(1,"label",37),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",38),e.YNc(5,ge,5,4,"div",39),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"WEEK_DAYS")),e.xp6(3),e.Q6J("ngForOf",t.dailyRemindersArray.controls)}}function fe(n,o){if(1&n&&(e.TgZ(0,"mat-radio-button",47),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(e.lcZ(2,2,t.name))}}function ve(n,o){if(1&n&&(e.TgZ(0,"div",36)(1,"label",43),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",44)(5,"mat-radio-group",45),e.YNc(6,fe,3,4,"mat-radio-button",46),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"WEEK_DAYS")),e.xp6(4),e.Q6J("ngForOf",t.dayOfWeek)}}function De(n,o){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function Ae(n,o){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Te(n,o){1&n&&(e.TgZ(0,"div")(1,"div",27),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function Ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.ynx(1,41),e.TgZ(2,"td"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td")(6,"select",53),e.NdJ("change",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onDateChange(a))}),e.YNc(7,De,3,4,"option",32),e.qZA()(),e.TgZ(8,"td")(9,"select",54),e.NdJ("change",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onDateChange(a))}),e.YNc(10,Ae,2,2,"option",32),e.qZA(),e.YNc(11,Te,4,3,"div",11),e.qZA(),e.BQk(),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(3);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(e.lcZ(4,5,t.get("name").value)),e.xp6(4),e.Q6J("ngForOf",t.get("monthValues").value),e.xp6(3),e.Q6J("ngForOf",r.days),e.xp6(1),e.Q6J("ngIf",t.get("day").touched&&t.hasError("invalidDate"))}}function xe(n,o){if(1&n&&(e.TgZ(0,"div",36)(1,"label",48),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",49)(5,"table",50)(6,"thead")(7,"tr"),e._UZ(8,"th"),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"tbody",51),e.YNc(16,Ze,12,7,"tr",52),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"SELECT_QUARTER_DATE")),e.xp6(8),e.Oqu(e.lcZ(11,6,"SELECT_REMINDER_MONTH")),e.xp6(3),e.Oqu(e.lcZ(14,8,"SELECT_REMINDER_DAY")),e.xp6(3),e.Q6J("ngForOf",t.quarterlyRemindersArray.controls)}}function Ce(n,o){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.name)," ")}}function be(n,o){if(1&n&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Re(n,o){1&n&&(e.TgZ(0,"div")(1,"div",27),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function ye(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.ynx(1,41),e.TgZ(2,"td"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"td")(6,"select",53),e.NdJ("change",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onDateChange(a))}),e.YNc(7,Ce,3,4,"option",32),e.qZA()(),e.TgZ(8,"td")(9,"select",54),e.NdJ("change",function(){const a=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onDateChange(a))}),e.YNc(10,be,2,2,"option",32),e.qZA(),e.YNc(11,Re,4,3,"div",11),e.qZA(),e.BQk(),e.qZA()}if(2&n){const t=o.$implicit,i=o.index,r=e.oxw(3);e.xp6(1),e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(e.lcZ(4,5,t.get("name").value)),e.xp6(4),e.Q6J("ngForOf",t.get("monthValues").value),e.xp6(3),e.Q6J("ngForOf",r.days),e.xp6(1),e.Q6J("ngIf",t.get("day").touched&&t.hasError("invalidDate"))}}function Le(n,o){if(1&n&&(e.TgZ(0,"div",36)(1,"label",55),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",56)(5,"table",50)(6,"thead")(7,"tr"),e._UZ(8,"th"),e.TgZ(9,"th"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"th"),e._uU(13),e.ALo(14,"translate"),e.qZA()()(),e.TgZ(15,"tbody",57),e.YNc(16,ye,12,7,"tr",52),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,4,"SELECT_DATE")),e.xp6(8),e.Oqu(e.lcZ(11,6,"SELECT_REMINDER_MONTH")),e.xp6(3),e.Oqu(e.lcZ(14,8,"SELECT_REMINDER_DAY")),e.xp6(3),e.Q6J("ngForOf",t.halfYearlyRemindersArray.controls)}}function Se(n,o){if(1&n&&(e.TgZ(0,"div",5)(1,"div",34),e.YNc(2,he,6,4,"div",35),e.YNc(3,ve,7,4,"div",35),e.YNc(4,xe,17,10,"div",35),e.YNc(5,Le,17,10,"div",35),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","0"===t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","1"===t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","3"===t.reminderForm.get("frequency").value),e.xp6(1),e.Q6J("ngIf","4"===t.reminderForm.get("frequency").value)}}function Ee(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DATE_IS_REQUIRED")," "))}function Ne(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ee,3,3,"div",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("startDate").errors?null:t.reminderForm.get("startDate").errors.required)}}function Ue(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function Fe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ue,3,3,"div",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("startDate").errors?null:t.reminderForm.get("startDate").errors.owlDateTimeMin)}}function qe(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",58),e.ALo(5,"translate"),e.YNc(6,Ne,2,1,"div",11),e.YNc(7,Fe,2,1,"div",11),e._UZ(8,"owl-date-time",null,59),e.qZA()),2&n){const t=e.MAs(9),i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,7,"REMINDER_DATE"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"DATE")),e.Q6J("owlDateTimeTrigger",t)("min",i.minDate)("owlDateTime",t),e.xp6(2),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").errors),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").errors)}}function Ie(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_IS_REQUIRED")," "))}function Oe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ie,3,3,"div",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("startDate").errors?null:t.reminderForm.get("startDate").errors.required)}}function Ye(n,o){1&n&&(e.TgZ(0,"div",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function Qe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ye,3,3,"div",26),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.reminderForm.get("startDate").errors?null:t.reminderForm.get("startDate").errors.owlDateTimeMin)}}function Je(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",58),e.ALo(5,"translate"),e.YNc(6,Oe,2,1,"div",11),e.YNc(7,Qe,2,1,"div",11),e._UZ(8,"owl-date-time",null,60),e.qZA()),2&n){const t=e.MAs(9),i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,7,"REMINDER_START_DATE"),""),e.xp6(2),e.s9C("placeholder",e.lcZ(5,9,"START_DATE")),e.Q6J("owlDateTimeTrigger",t)("min",i.minDate)("owlDateTime",t),e.xp6(2),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").errors),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("startDate").touched&&i.reminderForm.get("startDate").errors)}}function we(n,o){if(1&n&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"input",61),e.ALo(5,"translate"),e._UZ(6,"owl-date-time",null,62),e.qZA()),2&n){const t=e.MAs(7);e.xp6(2),e.Oqu(e.lcZ(3,4,"REMINDER_END_DATE")),e.xp6(2),e.s9C("placeholder",e.lcZ(5,6,"END_DATE")),e.Q6J("owlDateTimeTrigger",t)("owlDateTime",t)}}function Me(n,o){1&n&&(e.TgZ(0,"div",63),e._UZ(1,"mat-spinner"),e.qZA())}let je=(()=>{class n extends b.H{get dailyRemindersArray(){return this.reminderForm.get("dailyReminders")}get quarterlyRemindersArray(){return this.reminderForm.get("quarterlyReminders")}get halfYearlyRemindersArray(){return this.reminderForm.get("halfYearlyReminders")}constructor(t,i,r,a,c,d,h,f){super(),this.fb=t,this.reminderService=i,this.commonService=r,this.toastrService=a,this.data=c,this.dialogRef=d,this.securityService=h,this.translationService=f,this.reminderFrequencies=[],this.minDate=new Date,this.users=[],this.selectedUsers=[],this.isLoading=!1,this.dayOfWeek=V.R,this.months=V.k,this.days=[]}ngOnInit(){for(let t=1;t<=31;t++)this.days.push(t);this.getReminderFrequency(),this.createReminderForm(),this.getAuthObj()}getAuthObj(){this.sub$.sink=this.securityService.SecurityObject.subscribe(t=>{this.securityObject=t})}closeDialog(){this.dialogRef.close()}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(t=>this.reminderFrequencies=[...t])}createReminderForm(){this.reminderForm=this.fb.group({id:[""],subject:["",[m.kI.required]],message:["",[m.kI.required]],frequency:[""],isRepeated:[!1],isEmailNotification:[!1],startDate:[new Date,[m.kI.required]],endDate:[null],dayOfWeek:[2],documentId:[this.data.id]})}checkData(t){t.checked?this.reminderForm.get("frequency").setValidators([m.kI.required]):(this.reminderForm.get("frequency").setValidators([]),this.reminderForm.get("frequency").updateValueAndValidity()),this.reminderForm.markAllAsTouched()}createReminder(){if(!this.reminderForm.valid)return void this.reminderForm.markAllAsTouched();const t=this.reminderForm.value;t.reminderUsers=[{reminderId:t.id,userId:this.securityObject.user.id}],t.isRepeated||(t.dailyReminders=[],t.quarterlyReminders=[],t.halfYearlyReminders=[]),this.reminder?(t.dailyReminders&&(t.dailyReminders=t.dailyReminders.map(i=>(i.reminderId=this.reminder.id,i))),t.quarterlyReminders&&(t.quarterlyReminders=t.quarterlyReminders.map(i=>(i.reminderId=this.reminder.id,i))),t.halfYearlyReminders&&(t.halfYearlyReminders=t.halfYearlyReminders.map(i=>(i.reminderId=this.reminder.id,i))),this.isLoading=!0,this.sub$.sink=this.reminderService.updateReminder(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_UPDATED_SUCCESSFULLY")),this.dialogRef.close(),this.isLoading=!1},()=>this.isLoading=!1)):(this.isLoading=!0,this.sub$.sink=this.reminderService.addDocumentReminder(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_CREATED_SUCCESSFULLY")),this.dialogRef.close(),this.isLoading=!1},()=>this.isLoading=!1))}getUsers(){this.sub$.sink=this.commonService.getUsersForDropdown().subscribe(t=>{if(this.users=t,this.reminder){const i=this.reminder.reminderUsers.map(r=>r.userId);this.selectedUsers=this.users.filter(r=>i.indexOf(r.id)>=0)}})}onFrequencyChange(){let t=this.reminderForm.get("frequency").value;t=0==t?"0":t,t==R.D.Daily.toString()?(this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.addDailReminders(),this.reminderForm.get("dayOfWeek").setValue("")):t==R.D.Weekly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(2)):t==R.D.Quarterly.toString()?(this.removeDailReminders(),this.removeHalfYearlyReminders(),this.addQuarterlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):t==R.D.HalfYearly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.addHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(""))}addDailReminders(){if(!this.reminderForm.contains("dailyReminders")){const t=this.fb.array([]);t.push(this.createDailyReminderFormGroup(p.e.Sunday)),t.push(this.createDailyReminderFormGroup(p.e.Monday)),t.push(this.createDailyReminderFormGroup(p.e.Tuesday)),t.push(this.createDailyReminderFormGroup(p.e.Wednesday)),t.push(this.createDailyReminderFormGroup(p.e.Thursday)),t.push(this.createDailyReminderFormGroup(p.e.Friday)),t.push(this.createDailyReminderFormGroup(p.e.Saturday)),this.reminderForm.addControl("dailyReminders",t)}}addQuarterlyReminders(){if(!this.reminderForm.contains("quarterlyReminders")){const t=this.fb.array([]),i=this.months.filter(d=>[1,2,3].indexOf(d.id)>=0),r=this.months.filter(d=>[4,5,6].indexOf(d.id)>=0),a=this.months.filter(d=>[7,8,9].indexOf(d.id)>=0),c=this.months.filter(d=>[10,11,12].indexOf(d.id)>=0);t.push(this.createQuarterlyReminderFormGroup(A.y.Quarter1,"JAN_MAR",i)),t.push(this.createQuarterlyReminderFormGroup(A.y.Quarter2,"APR_JUN",r)),t.push(this.createQuarterlyReminderFormGroup(A.y.Quarter3,"JUL_SEPT",a)),t.push(this.createQuarterlyReminderFormGroup(A.y.Quarter4,"OCT_DEC",c)),this.reminderForm.addControl("quarterlyReminders",t)}}addHalfYearlyReminders(){if(!this.reminderForm.contains("halfYearlyReminders")){const t=this.fb.array([]),i=this.months.filter(a=>[1,2,3,4,5,6].indexOf(a.id)>=0),r=this.months.filter(a=>[7,8,9,10,11,13].indexOf(a.id)>=0);t.push(this.createHalfYearlyReminderFormGroup(A.y.Quarter1,"JAN_JUN",i)),t.push(this.createHalfYearlyReminderFormGroup(A.y.Quarter2,"JUL_DEC",r)),this.reminderForm.addControl("halfYearlyReminders",t)}}removeDailReminders(){this.reminderForm.contains("dailyReminders")&&this.reminderForm.removeControl("dailyReminders")}removeQuarterlyReminders(){this.reminderForm.contains("quarterlyReminders")&&this.reminderForm.removeControl("quarterlyReminders")}removeHalfYearlyReminders(){this.reminderForm.contains("halfYearlyReminders")&&this.reminderForm.removeControl("halfYearlyReminders")}createDailyReminderFormGroup(t){return this.fb.group({id:[""],reminderId:[""],dayOfWeek:[t],isActive:[!0],name:[p.e[t]]})}createQuarterlyReminderFormGroup(t,i,r){return this.fb.group({id:[""],reminderId:[""],quarter:[t],day:[this.getCurrentDay()],month:[r[0].id],name:[i],monthValues:[r]})}createHalfYearlyReminderFormGroup(t,i,r){return this.fb.group({id:[""],reminderId:[""],quarter:[t],day:[this.getCurrentDay()],month:[r[0].id],name:[i],monthValues:[r]})}getCurrentDay(){return(new Date).getDate()}onDateChange(t){const i=t.get("day").value,r=t.get("month").value;i>new Date((new Date).getFullYear(),Number.parseInt(r),0).getDate()&&(t.setErrors({invalidDate:"Invalid Date"}),t.markAllAsTouched())}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.QS),e.Y36(se.Z),e.Y36(y.v),e.Y36(L._W),e.Y36(_.WI),e.Y36(_.so),e.Y36(P.I),e.Y36(S.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e.qOj],decls:50,vars:31,consts:[[1,"d-flex"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button","ms-auto",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[3,"formGroup"],[1,"form-group","col-md-12"],["for","subject"],["formControlName","subject","type","text","id","subject",1,"form-control"],[4,"ngIf"],["for","message"],["formControlName","message","id","message","cols","30",1,"form-control"],[1,"col-md-4"],["color","primary","formControlName","isRepeated",3,"change"],[1,"col-md-2"],["color","primary","formControlName","isEmailNotification"],["class","row",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],[1,"m-t-10","col-md-12"],["type","submit",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-times-circle"],["class","loading-shade",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"form-group","col-md-6"],["for","frequency"],["formControlName","frequency","id","frequency",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-12"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","weekDays"],["id","weekDays",1,"row"],["class","col-sm-auto mr-1","formArrayName","dailyReminders",4,"ngFor","ngForOf"],["formArrayName","dailyReminders",1,"col-sm-auto","mr-1"],[3,"formGroupName"],["color","primary","formControlName","isActive",1,"mr-1"],["for","weekDay"],["id","weekDay"],["formControlName","dayOfWeek"],["class","mr-2","color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"mr-2",3,"value"],["for","Quarterly"],["id","Quarterly",1,"row"],[1,"table"],["formArrayName","quarterlyReminders"],[4,"ngFor","ngForOf"],["formControlName","month",1,"form-control",3,"change"],["formControlName","day",1,"form-control",3,"change"],["for","HalfYearly"],["id","HalfYearly",1,"row"],["formArrayName","halfYearlyReminders"],["formControlName","startDate",1,"form-control",3,"owlDateTimeTrigger","min","owlDateTime","placeholder"],["dt2",""],["dt3",""],["formControlName","endDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"],["dt4",""],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.closeDialog()}),e.TgZ(5,"mat-icon",3),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"form",7)(11,"div",5)(12,"div",8)(13,"label",9),e._uU(14),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"input",10),e.YNc(17,me,2,1,"div",11),e.qZA()(),e.TgZ(18,"div",5)(19,"div",8)(20,"label",12),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"textarea",13),e.YNc(24,de,2,1,"div",11),e.qZA()(),e.TgZ(25,"div",5)(26,"div",14)(27,"mat-checkbox",15),e.NdJ("change",function(a){return i.checkData(a)}),e._uU(28),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",16)(31,"mat-checkbox",17),e._uU(32),e.ALo(33,"translate"),e.qZA()()(),e.YNc(34,pe,11,8,"div",18),e.YNc(35,Se,6,4,"div",18),e.TgZ(36,"div",5),e.YNc(37,qe,10,11,"div",19),e.YNc(38,Je,10,11,"div",19),e.YNc(39,we,8,8,"div",19),e.TgZ(40,"div",20)(41,"button",21),e.NdJ("click",function(){return i.createReminder()}),e._UZ(42,"i",22),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"button",23),e.NdJ("click",function(){return i.onCancel()}),e._UZ(46,"i",24),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()()(),e.YNc(49,Me,2,0,"div",25),e.qZA()),2&t&&(e.xp6(2),e.AsE("",e.lcZ(3,17,"ADD_REMINDER")," :: ",null==i.data?null:i.data.name,""),e.xp6(8),e.Q6J("formGroup",i.reminderForm),e.xp6(4),e.hij(" ",e.lcZ(15,19,"SUBJECT"),""),e.xp6(3),e.Q6J("ngIf",i.reminderForm.get("subject").touched&&i.reminderForm.get("subject").errors),e.xp6(4),e.hij(" ",e.lcZ(22,21,"MESSAGE"),""),e.xp6(3),e.Q6J("ngIf",i.reminderForm.get("message").touched&&i.reminderForm.get("message").errors),e.xp6(4),e.hij(" ",e.lcZ(29,23,"REPEATE_REMINDER")," "),e.xp6(4),e.Oqu(e.lcZ(33,25,"SEND_EMAIL")),e.xp6(2),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(2),e.Q6J("ngIf",!i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(1),e.Q6J("ngIf",i.reminderForm.get("isRepeated").value),e.xp6(4),e.hij(" ",e.lcZ(44,27,"SAVE")," "),e.xp6(4),e.hij(" ",e.lcZ(48,29,"CANCEL")," "),e.xp6(2),e.Q6J("ngIf",i.isLoading))},dependencies:[u.sg,u.O5,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.JL,m.sg,m.u,m.x0,m.CE,E.RK,N.Hw,U.Ou,_.uh,_.xY,Q.oG,J.VQ,J.U0,g.sZ,g.BO,g.hV,F.X$]}),n})();var w=s(7954),B=s(6943),K=s(914),ke=s(9549),z=s(9785),Z=s(8796);function Ge(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NAME_IS_REQUIRED")," "))}function He(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FROM_IS_REQUIRED")," "))}function $e(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Dateline_IS_REQUIRED")," "))}function Ve(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Number_IN_IS_REQUIRED")," "))}function Pe(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DOCUMENT_IS_REQUIRED")," "))}function Be(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Pe,3,3,"div",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.documentForm.get("url").touched&&(null==t.documentForm.get("url").errors?null:t.documentForm.get("url").errors.required))}}function Ke(n,o){if(1&n&&(e.TgZ(0,"div")(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name,"")}}function ze(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}const We=function(n){return{"margin-right.px":n}},Xe=function(n){return{"margin-left.px":n}};function et(n,o){if(1&n&&(e.TgZ(0,"ng-option",24)(1,"div",37),e.YNc(2,Ke,3,1,"div",20),e.YNc(3,ze,2,1,"div",20),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t.id),e.xp6(1),e.Q6J("ngStyle","rtl"===i.direction?e.VKq(4,We,20*t.deafLevel):e.VKq(6,Xe,20*t.deafLevel)),e.xp6(1),e.Q6J("ngIf",!t.parentId),e.xp6(1),e.Q6J("ngIf",t.parentId)}}function tt(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CATEGORY_IS_REQUIRED")," "))}function nt(n,o){1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.Q6J("value","s3"),e.xp6(1),e.Oqu(e.lcZ(2,2,"S3")))}function it(n,o){1&n&&(e.TgZ(0,"div",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Name_IN_IS_REQUIRED")," "))}function ot(n,o){1&n&&(e.TgZ(0,"label",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"META_TAGS")," "))}function rt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onAddAnotherMetaTag())}),e._UZ(1,"i",47),e.qZA()}}function at(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,a=e.oxw();return e.KtG(a.onDeleteMetaTag(r))}),e._UZ(1,"i",49),e.qZA()}}function st(n,o){if(1&n){const t=e.EpF();e.ynx(0,38)(1,39),e.TgZ(2,"div",4)(3,"div",40),e.YNc(4,ot,3,3,"label",41),e.TgZ(5,"div",42)(6,"input",43),e.NdJ("change",function(r){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.onMetatagChange(r,c))}),e.qZA(),e.YNc(7,rt,2,0,"button",44),e.YNc(8,at,2,0,"button",45),e.qZA()()(),e.BQk()()}if(2&n){const t=o.index;e.xp6(1),e.Q6J("formGroupName",t),e.xp6(3),e.Q6J("ngIf",0===t),e.xp6(3),e.Q6J("ngIf",0===t),e.xp6(1),e.Q6J("ngIf",0!==t)}}function ct(n,o){if(1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function mt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_IS_REQURED")," "))}function lt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"END_DATE_IS_REQURED")," "))}function dt(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",27),e._UZ(2,"input",57),e.ALo(3,"translate"),e._UZ(4,"owl-date-time",null,58),e.YNc(6,mt,3,3,"mat-error",20),e.qZA(),e.TgZ(7,"div",27),e._UZ(8,"input",59),e.ALo(9,"translate"),e._UZ(10,"owl-date-time",null,60),e.YNc(12,lt,3,3,"mat-error",20),e.qZA()()),2&n){const t=e.MAs(5),i=e.MAs(11),r=e.oxw(3);e.xp6(2),e.s9C("placeholder",e.lcZ(3,10,"CHOOSE_A_START_DATE")),e.Q6J("min",r.minDate)("owlDateTimeTrigger",t)("owlDateTime",t),e.xp6(4),e.Q6J("ngIf",r.rolePermissionFormGroup.get("startDate").touched&&r.rolePermissionFormGroup.get("startDate").hasError("required")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,12,"CHOOSE_A_END_DATE")),e.Q6J("min",r.rolePermissionFormGroup.get("startDate").value)("owlDateTimeTrigger",i)("owlDateTime",i),e.xp6(4),e.Q6J("ngIf",r.rolePermissionFormGroup.get("startDate").touched&&r.rolePermissionFormGroup.get("endDate").hasError("required"))}}function ut(n,o){if(1&n){const t=e.EpF();e.ynx(0,53),e.TgZ(1,"div",4)(2,"mat-checkbox",54),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.roleTimeBoundChange(r))}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,dt,13,14,"div",55),e.TgZ(6,"div",4)(7,"mat-checkbox",56),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,3,"SPACIFY_THE_PERIOD"),""),e.xp6(2),e.Q6J("ngIf",t.rolePermissionFormGroup.get("isTimeBound").value),e.xp6(3),e.Oqu(e.lcZ(9,5,"ALLOW_DOWNLOAD"))}}function _t(n,o){if(1&n&&(e.TgZ(0,"div",27)(1,"h6",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ng-select",51),e.YNc(5,ct,2,2,"ng-option",22),e.qZA(),e.YNc(6,ut,10,7,"ng-container",52),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"ASSIGN_SHARE_WITH_ROLES")),e.xp6(2),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("ngForOf",t.roles),e.xp6(1),e.Q6J("ngIf",(null==t.documentForm.get("selectedRoles").value?null:t.documentForm.get("selectedRoles").value.length)>0)}}function pt(n,o){if(1&n&&(e.TgZ(0,"ng-option",24),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.AsE(" ",t.firstName," ",t.lastName," ")}}function gt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE_IS_REQURED")," "))}function ht(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"END_DATE_IS_REQURED")," "))}function ft(n,o){if(1&n&&(e.TgZ(0,"div",4)(1,"div",27),e._UZ(2,"input",57),e.ALo(3,"translate"),e._UZ(4,"owl-date-time",null,58),e.YNc(6,gt,3,3,"mat-error",20),e.qZA(),e.TgZ(7,"div",27),e._UZ(8,"input",59),e.ALo(9,"translate"),e._UZ(10,"owl-date-time",null,60),e.YNc(12,ht,3,3,"mat-error",20),e.qZA()()),2&n){const t=e.MAs(5),i=e.MAs(11),r=e.oxw(3);e.xp6(2),e.s9C("placeholder",e.lcZ(3,10,"CHOOSE_A_START_DATE")),e.Q6J("min",r.minDate)("owlDateTimeTrigger",t)("owlDateTime",t),e.xp6(4),e.Q6J("ngIf",r.userPermissionFormGroup.get("startDate").touched&&r.userPermissionFormGroup.get("startDate").hasError("required")),e.xp6(2),e.s9C("placeholder",e.lcZ(9,12,"CHOOSE_A_END_DATE")),e.Q6J("min",r.userPermissionFormGroup.get("startDate").value)("owlDateTimeTrigger",i)("owlDateTime",i),e.xp6(4),e.Q6J("ngIf",r.userPermissionFormGroup.get("startDate").touched&&r.userPermissionFormGroup.get("endDate").hasError("required"))}}function vt(n,o){if(1&n){const t=e.EpF();e.ynx(0,63),e.TgZ(1,"div",4)(2,"mat-checkbox",54),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.userTimeBoundChange(r))}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,ft,13,14,"div",55),e.TgZ(6,"div",4)(7,"mat-checkbox",56),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,3,"SPACIFY_THE_PERIOD"),""),e.xp6(2),e.Q6J("ngIf",t.userPermissionFormGroup.get("isTimeBound").value),e.xp6(3),e.Oqu(e.lcZ(9,5,"ALLOW_DOWNLOAD"))}}function Dt(n,o){if(1&n&&(e.TgZ(0,"div",27)(1,"h6",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ng-select",61),e.YNc(5,pt,2,3,"ng-option",22),e.qZA(),e.YNc(6,vt,10,7,"ng-container",62),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"ASSIGN_SHARE_WITH_USERS")),e.xp6(2),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("ngForOf",t.users),e.xp6(1),e.Q6J("ngIf",(null==t.documentForm.get("selectedUsers").value?null:t.documentForm.get("selectedUsers").value.length)>0)}}const At=function(){return["/"]};let W=(()=>{class n extends b.H{get documentMetaTagsArray(){return this.documentForm.get("documentMetaTags")}constructor(t,i,r,a,c,d,h,f,M){super(),this.fb=t,this.cd=i,this.categoryService=r,this.commonService=a,this.documentService=c,this.router=d,this.translationService=h,this.toastrService=f,this.securityService=M,this.extension="",this.categories=[],this.allCategories=[],this.progress=0,this.message="",this.isFileUpload=!1,this.isS3Supported=!1,this.minDate=new Date}ngOnInit(){this.createDocumentForm(),this.getCategories(),this.documentMetaTagsArray.push(this.buildDocumentMetaTag()),this.getUsers(),this.getRoles(),this.getCompanyProfile(),this.getLangDir()}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(t=>this.direction=t)}getCompanyProfile(){this.securityService.companyProfile.subscribe(t=>{t&&(this.isS3Supported="s3"==t.location)})}getUsers(){this.sub$.sink=this.commonService.getUsersForDropdown().subscribe(t=>this.users=t)}getRoles(){this.sub$.sink=this.commonService.getRolesForDropdown().subscribe(t=>this.roles=t)}getCategories(){this.categoryService.getAllCategoriesForDropDown().subscribe(t=>{this.categories=t,this.setDeafLevel()})}setDeafLevel(t,i){const r=this.categories.filter(a=>a.parentId==i);return r.length>0&&r.map((a,c)=>{a.deafLevel=t?t.deafLevel+1:0,a.index=(t?t.index:0)+c*Math.pow(.1,a.deafLevel),this.allCategories.push(a),this.setDeafLevel(a,a.id)}),t}fileUploadValidation(t){this.documentForm.patchValue({url:t}),this.documentForm.get("url").markAsTouched(),this.documentForm.updateValueAndValidity()}createDocumentForm(){this.documentForm=this.fb.group({name:["",[m.kI.required]],letter_no:[""],letter_date:[""],number_in:[""],doc_from:[""],dateline:[""],description:[""],categoryId:["",[m.kI.required]],url:["",[m.kI.required]],extension:[""],documentMetaTags:this.fb.array([]),selectedRoles:[],selectedUsers:[],location:[],rolePermissionForm:this.fb.group({isTimeBound:new m.p4(!1),startDate:[""],endDate:[""],isAllowDownload:new m.p4(!1)}),userPermissionForm:this.fb.group({isTimeBound:new m.p4(!1),startDate:[""],endDate:[""],isAllowDownload:new m.p4(!1)})}),this.companyProfileSubscription()}companyProfileSubscription(){this.securityService.companyProfile.subscribe(t=>{t&&this.documentForm.get("location").setValue(t.location??"local")})}buildDocumentMetaTag(){return this.fb.group({id:[""],documentId:[""],metatag:[""]})}get rolePermissionFormGroup(){return this.documentForm.get("rolePermissionForm")}get userPermissionFormGroup(){return this.documentForm.get("userPermissionForm")}onMetatagChange(t,i){if(!this.documentMetaTagsArray.at(i).get("metatag").value)return;const a=this.documentMetaTagsArray.at(i).get("metatag");a.setValidators([m.kI.required]),a.updateValueAndValidity()}editDocmentMetaData(t){return this.fb.group({id:[t.id],documentId:[t.documentId],metatag:[t.metatag]})}SaveDocument(){if(this.documentForm.valid){const t=this.buildDocumentObject();this.documentService.addDocument(t).subscribe(i=>{this.addDocumentTrail(i),this.toastrService.success(this.translationService.getValue("DOCUMENT_SAVE_SUCCESSFULLY"))})}else this.documentForm.markAllAsTouched()}addDocumentTrail(t){const i={documentId:t,operationName:w.g.Created.toString()};this.sub$.sink=this.commonService.addDocumentAuditTrail(i).subscribe(()=>{this.router.navigate(["/"])})}buildDocumentObject(){const t=this.documentMetaTagsArray.getRawValue(),i=this.documentForm.get("dateline")?.value,r={letter_no:this.documentForm.get("letter_no").value,letter_date:this.documentForm.get("letter_date").value,number_in:this.documentForm.get("number_in").value,doc_from:this.documentForm.get("doc_from").value,dateline:i?new Date(i):null,categoryId:this.documentForm.get("categoryId").value,description:this.documentForm.get("description").value,name:this.documentForm.get("name").value,url:this.fileData.fileName,documentMetaDatas:[...t],fileData:this.fileData,extension:this.extension,location:this.documentForm.get("location").value},a=this.documentForm.get("selectedRoles").value??[];a?.length>0&&(r.documentRolePermissions=a.map(d=>Object.assign({},{id:"",documentId:"",roleId:d.id},this.rolePermissionFormGroup.value)));const c=this.documentForm.get("selectedUsers").value??[];return c?.length>0&&(r.documentUserPermissions=c.map(d=>Object.assign({},{id:"",documentId:"",userId:d.id},this.userPermissionFormGroup.value))),r}onAddAnotherMetaTag(){this.documentMetaTagsArray.insert(0,this.editDocmentMetaData({id:"",documentId:this.document&&this.document.id?this.document.id:"",metatag:""}))}onDeleteMetaTag(t){this.documentMetaTagsArray.removeAt(t)}upload(t){0!==t.length&&(this.extension=t[0].name.split(".").pop(),this.cd.markForCheck(),this.fileData=t[0],this.documentForm.get("url").setValue(t[0].name),this.documentForm.get("name").setValue(t[0].name))}roleTimeBoundChange(t){t.checked?(this.rolePermissionFormGroup.get("startDate").setValidators([m.kI.required]),this.rolePermissionFormGroup.get("endDate").setValidators([m.kI.required])):(this.rolePermissionFormGroup.get("startDate").clearValidators(),this.rolePermissionFormGroup.get("startDate").updateValueAndValidity(),this.rolePermissionFormGroup.get("endDate").clearValidators(),this.rolePermissionFormGroup.get("endDate").updateValueAndValidity())}userTimeBoundChange(t){t.checked?(this.userPermissionFormGroup.get("startDate").setValidators([m.kI.required]),this.userPermissionFormGroup.get("endDate").setValidators([m.kI.required])):(this.userPermissionFormGroup.get("startDate").clearValidators(),this.userPermissionFormGroup.get("startDate").updateValueAndValidity(),this.userPermissionFormGroup.get("endDate").clearValidators(),this.userPermissionFormGroup.get("endDate").updateValueAndValidity())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.QS),e.Y36(e.sBO),e.Y36(B.H),e.Y36(y.v),e.Y36(K.Z),e.Y36(T.F0),e.Y36(S.D),e.Y36(L._W),e.Y36(P.I))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-document"]],features:[e.qOj],decls:89,vars:60,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"col-md-3"],[1,"form-label"],["formControlName","letter_no","type","text",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","doc_from","type","text",1,"form-control"],["formControlName","dateline","type","text",1,"form-control"],["formControlName","number_in","type","text",1,"form-control"],["type","file",1,"form-control",3,"change"],["file",""],[4,"ngIf"],["formControlName","categoryId",3,"placeholder","clearable"],[3,"value",4,"ngFor","ngForOf"],["formControlName","location",3,"clearable"],[3,"value"],[3,"value",4,"ngIf"],["formControlName","name","type","text",1,"form-control"],[1,"col-md-6"],["formControlName","description",1,"form-control"],["formArrayName","documentMetaTags",4,"ngFor","ngForOf"],["class","col-md-6",4,"hasClaim"],[1,"m-t-10","col-md-12"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],[1,"fas","fa-times-circle"],[1,"text-danger"],[1,"country-item",3,"ngStyle"],["formArrayName","documentMetaTags"],[3,"formGroupName"],[1,"col"],["class","form-label",4,"ngIf"],[1,"input-group","m-b-10"],["formControlName","metatag","type","text",1,"form-control",3,"change"],["class","btn btn-outline-success","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash-alt"],[1,"vew-mail-header"],["formControlName","selectedRoles",3,"multiple"],["formGroupName","rolePermissionForm",4,"ngIf"],["formGroupName","rolePermissionForm"],["color","primary","formControlName","isTimeBound",3,"change"],["class","row",4,"ngIf"],["color","primary","formControlName","isAllowDownload"],["formControlName","startDate",1,"form-control",3,"min","placeholder","owlDateTimeTrigger","owlDateTime"],["date1",""],["formControlName","endDate",1,"form-control",3,"min","placeholder","owlDateTimeTrigger","owlDateTime"],["date2",""],["formControlName","selectedUsers",3,"multiple"],["formGroupName","userPermissionForm",4,"ngIf"],["formGroupName","userPermissionForm"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()(),e.TgZ(10,"div",4)(11,"div",7)(12,"div",8)(13,"div",9)(14,"form",10)(15,"div",4)(16,"div",11)(17,"label",12),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",13),e.YNc(21,Ge,3,3,"div",14),e.qZA(),e.TgZ(22,"div",11)(23,"label",12),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"input",15),e.YNc(27,He,3,3,"div",14),e.qZA(),e.TgZ(28,"div",11)(29,"label",12),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._UZ(32,"input",16),e.YNc(33,$e,3,3,"div",14),e.qZA(),e.TgZ(34,"div",11)(35,"label",12),e._uU(36),e.ALo(37,"translate"),e.qZA(),e._UZ(38,"input",17),e.YNc(39,Ve,3,3,"div",14),e.qZA(),e.TgZ(40,"div",11)(41,"label",12),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"input",18,19),e.NdJ("change",function(){e.CHM(r);const c=e.MAs(45);return e.KtG(i.upload(c.files))}),e.qZA(),e.YNc(46,Be,2,1,"div",20),e.qZA(),e.TgZ(47,"div",11)(48,"label",12),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"ng-select",21),e.ALo(52,"translate"),e.YNc(53,et,4,8,"ng-option",22),e.qZA(),e.YNc(54,tt,3,3,"div",14),e.qZA(),e.TgZ(55,"div",11)(56,"label",12),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"ng-select",23)(60,"ng-option",24),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.YNc(63,nt,3,4,"ng-option",25),e.qZA()(),e.TgZ(64,"div",11)(65,"label",12),e._uU(66),e.ALo(67,"translate"),e.qZA(),e._UZ(68,"input",26),e.YNc(69,it,3,3,"div",14),e.qZA(),e.TgZ(70,"div",27)(71,"label",12),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"textarea",28),e._uU(75,"                  "),e.qZA()(),e.TgZ(76,"div",27),e.YNc(77,st,9,4,"ng-container",29),e.qZA(),e.YNc(78,_t,7,6,"div",30),e.YNc(79,Dt,7,6,"div",30),e.TgZ(80,"div",31)(81,"button",32),e.NdJ("click",function(){return i.SaveDocument()}),e._UZ(82,"i",33),e._uU(83),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"button",34),e._UZ(86,"i",35),e._uU(87),e.ALo(88,"translate"),e.qZA()()()()()()()()()()}if(2&t){let r,a,c,d,h,f;e.xp6(8),e.Oqu(e.lcZ(9,31,"ADD_DOCUMENT")),e.xp6(6),e.Q6J("formGroup",i.documentForm),e.xp6(4),e.Oqu(e.lcZ(19,33,"Letter No")),e.xp6(3),e.Q6J("ngIf",i.documentForm.get("letter_no").touched&&(null==(r=i.documentForm.get("letter_no"))?null:r.hasError("required"))),e.xp6(3),e.Oqu(e.lcZ(25,35,"From")),e.xp6(3),e.Q6J("ngIf",i.documentForm.get("doc_from").touched&&(null==(a=i.documentForm.get("doc_from"))?null:a.hasError("required"))),e.xp6(3),e.Oqu(e.lcZ(31,37,"Dateline")),e.xp6(3),e.Q6J("ngIf",i.documentForm.get("dateline").touched&&(null==(c=i.documentForm.get("dateline"))?null:c.hasError("required"))),e.xp6(3),e.Oqu(e.lcZ(37,39,"Numer In No")),e.xp6(3),e.Q6J("ngIf",i.documentForm.get("number_in").touched&&(null==(d=i.documentForm.get("number_in"))?null:d.hasError("required"))),e.xp6(3),e.Oqu(e.lcZ(43,41,"DOCUMENT_UPLOAD")),e.xp6(4),e.Q6J("ngIf",i.documentForm.get("url").touched&&(null==(h=i.documentForm.get("url"))?null:h.errors)),e.xp6(3),e.Oqu(e.lcZ(50,43,"CATEGORY")),e.xp6(2),e.s9C("placeholder",e.lcZ(52,45,"CATEGORY")),e.Q6J("clearable",!1),e.xp6(2),e.Q6J("ngForOf",i.allCategories),e.xp6(1),e.Q6J("ngIf",i.documentForm.get("categoryId").touched&&i.documentForm.get("categoryId").hasError("required")),e.xp6(3),e.Oqu(e.lcZ(58,47,"STORAGE")),e.xp6(2),e.Q6J("clearable",!1),e.xp6(1),e.Q6J("value","local"),e.xp6(1),e.Oqu(e.lcZ(62,49,"LOCAL")),e.xp6(2),e.Q6J("ngIf",i.isS3Supported),e.xp6(3),e.Oqu(e.lcZ(67,51,"Name")),e.xp6(3),e.Q6J("ngIf",i.documentForm.get("name").touched&&(null==(f=i.documentForm.get("name"))?null:f.hasError("required"))),e.xp6(3),e.Oqu(e.lcZ(73,53,"DESCRIPTION")),e.xp6(5),e.Q6J("ngForOf",i.documentMetaTagsArray.controls),e.xp6(1),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),e.xp6(1),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),e.xp6(4),e.hij(" ",e.lcZ(84,55,"SAVE"),""),e.xp6(2),e.Q6J("routerLink",e.DdM(59,At)),e.xp6(2),e.hij(" ",e.lcZ(88,57,"CANCEL"),"")}},dependencies:[u.sg,u.O5,u.PC,m._Y,m.Fj,m.JJ,m.JL,m.sg,m.u,m.x0,m.CE,T.rH,ke.TO,z.d,Q.oG,g.sZ,g.BO,g.hV,Z.w9,Z.jq,F.X$]}),n})();var x=s(8739),Tt=s(4702),Zt=s(7579),xt=s(1358),Ct=s(727);class bt{get count(){return this._count}constructor(o){this.commonService=o,this._reminderSubject$=new D.X([]),this._responseHeaderSubject$=new D.X(null),this.loadingSubject=new D.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}connect(){return this.sub$=new Ct.w0,this._reminderSubject$.asObservable()}disconnect(){this._reminderSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(o){this.loadingSubject.next(!0),this.sub$=this.commonService.getAllRemindersForCurrentUser(o).pipe((0,Y.K)(()=>(0,H.of)([])),(0,$.x)(()=>this.loadingSubject.next(!1))).subscribe(t=>{const i=new xt.E;i.pageSize=parseInt(t.headers.get("pageSize")),i.totalCount=parseInt(t.headers.get("totalCount")),i.skip=parseInt(t.headers.get("skip")),this._responseHeaderSubject$.next({...i});const r=[...t.body];this._count=r.length,this._reminderSubject$.next(r)})}}var Rt=s(6936),X=s(5485),l=s(671),yt=s(2821),Lt=s(8475),ee=s(8017);function St(n,o){1&n&&e._UZ(0,"th",26)}function Et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",27)(1,"button",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onDetail(a))}),e._UZ(2,"i",29),e.qZA(),e._uU(3," \xa0\xa0 "),e.TgZ(4,"button",30),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteReminder(a))}),e._UZ(5,"i",31),e.qZA()()}}function Nt(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DOCUMENT")," "))}function Ut(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.documentName," ")}}function Ft(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"START_DATE")," "))}function qt(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.startDate,"short")," ")}}function It(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"END_DATE")," "))}function Ot(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.endDate,"short")," ")}}function Yt(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SUBJECT")," "))}function Qt(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"limitTo"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subject,"100")," ")}}function Jt(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"MESSAGE")," "))}function wt(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"limitTo"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.message,"150")," ")}}function Mt(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FREQUENCY")," "))}function jt(n,o){if(1&n&&(e.TgZ(0,"td",27),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"frequency"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.frequency))," ")}}const kt=function(){return[15,20,30]};function Gt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._UZ(1,"mat-paginator",34),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("length",t.reminderResource.totalCount)("pageSize",t.reminderResource.pageSize)("pageSizeOptions",e.DdM(3,kt))}}function Ht(n,o){1&n&&e._UZ(0,"tr",35)}function $t(n,o){1&n&&e._UZ(0,"tr",36)}function Vt(n,o){1&n&&e._UZ(0,"tr",37)}function Pt(n,o){1&n&&(e.ynx(0),e.TgZ(1,"div",38)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.BQk()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"NO_DATA_FOUND")))}function Bt(n,o){1&n&&(e.TgZ(0,"div",39),e._UZ(1,"mat-spinner"),e.qZA())}let Kt=(()=>{class n extends b.H{get SubjectFilter(){return this._subjectFilter}set SubjectFilter(t){this._subjectFilter=t,this.filterObservable$.next(`subject:${t}`)}set FrequencyFilter(t){this._frequencyFilter="0"==t?"0":t?t.toString():"",this.filterObservable$.next(`frequency:${this._frequencyFilter}`)}get FrequencyFilter(){return this._frequencyFilter}get MessageFilter(){return this._messageFilter}set MessageFilter(t){this._messageFilter=t,this.filterObservable$.next(`message:${t}`)}constructor(t,i,r,a,c,d){super(),this.dialog=t,this.commonService=i,this.commonDialogService=r,this.toastrService=a,this.dialogRef=c,this.translationService=d,this.reminders=[],this.reminderFrequencies=[],this.displayedColumns=["action","documentName","startDate","endDate","subject","message","frequency"],this.footerToDisplayed=["footer"],this.isLoadingResults=!0,this.filterObservable$=new Zt.x,this.reminderResource=new Tt.t,this.reminderResource.pageSize=15,this.reminderResource.orderBy="startDate desc"}ngOnInit(){this.getReminderFrequency(),this.dataSource=new bt(this.commonService),this.dataSource.loadData(this.reminderResource),this.sub$.sink=this.filterObservable$.pipe((0,I.b)(1e3),(0,O.x)()).subscribe(t=>{this.reminderResource.skip=0;const i=t.split(":");"subject"===i[0]?this.reminderResource.subject=escape(i[1]):"message"===i[0]?this.reminderResource.message=i[1]:"frequency"===i[0]&&(this.reminderResource.frequency=i[1]),this.dataSource.loadData(this.reminderResource)}),this.getResourceParameter()}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,k.T)(this.sort.sortChange,this.paginator.page).pipe((0,C.b)(()=>{this.reminderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.reminderResource.pageSize=this.paginator.pageSize,this.reminderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.reminderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(t=>{t&&(this.reminderResource.pageSize=t.pageSize,this.reminderResource.skip=t.skip,this.reminderResource.totalCount=t.totalCount)})}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(t=>this.reminderFrequencies=[...t])}closeDialog(){this.dialogRef.close()}deleteReminder(t){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(i=>{i&&(this.isLoadingResults=!0,this.commonService.deleteReminderCurrentUser(t.id).subscribe(()=>{this.isLoadingResults=!1,this.toastrService.success(this.translationService.getValue("REMINDER_DELETED_SUCCESSFULLY")),this.dataSource.loadData(this.reminderResource)},()=>this.isLoadingResults=!1))})}onDetail(t){this.dialog.open(Rt.a,{data:t.id,width:"80vw"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.uw),e.Y36(y.v),e.Y36(X.V),e.Y36(L._W),e.Y36(_.so),e.Y36(S.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reminder-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(x.NW,5),e.Gf(v.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},features:[e.qOj],decls:41,vars:11,consts:[[1,"d-flex"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button","ms-auto",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","documentName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","subject"],["matColumnDef","message"],["matColumnDef","frequency"],["matColumnDef","footer"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[4,"ngIf"],["class","loading-shade",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-eye"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],["mat-header-cell","","mat-sort-header",""],["mat-footer-cell","","colspan","7"],[3,"length","pageSize","pageSizeOptions"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],[1,"col-sm-12","m-t-15"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.closeDialog()}),e.TgZ(5,"mat-icon",3),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"table",8),e.ynx(12,9),e.YNc(13,St,1,0,"th",10),e.YNc(14,Et,6,0,"td",11),e.BQk(),e.ynx(15,12),e.YNc(16,Nt,3,3,"th",13),e.YNc(17,Ut,2,1,"td",11),e.BQk(),e.ynx(18,14),e.YNc(19,Ft,3,3,"th",13),e.YNc(20,qt,3,4,"td",11),e.BQk(),e.ynx(21,15),e.YNc(22,It,3,3,"th",13),e.YNc(23,Ot,3,4,"td",11),e.BQk(),e.ynx(24,16),e.YNc(25,Yt,3,3,"th",13),e.YNc(26,Qt,3,4,"td",11),e.BQk(),e.ynx(27,17),e.YNc(28,Jt,3,3,"th",13),e.YNc(29,wt,3,4,"td",11),e.BQk(),e.ynx(30,18),e.YNc(31,Mt,3,3,"th",13),e.YNc(32,jt,4,5,"td",11),e.BQk(),e.ynx(33,19),e.YNc(34,Gt,2,4,"td",20),e.BQk(),e.YNc(35,Ht,1,0,"tr",21),e.YNc(36,$t,1,0,"tr",22),e.YNc(37,Vt,1,0,"tr",23),e.qZA(),e.YNc(38,Pt,5,3,"ng-container",24),e.qZA()()()(),e.YNc(39,Bt,2,0,"div",25),e.ALo(40,"async")),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,7,"REMINDERS")),e.xp6(9),e.Q6J("dataSource",i.dataSource),e.xp6(24),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",i.footerToDisplayed),e.xp6(1),e.Q6J("ngIf",0==i.dataSource.count),e.xp6(1),e.Q6J("ngIf",e.lcZ(40,9,i.dataSource.loading$)))},dependencies:[u.O5,E.RK,N.Hw,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.mD,l.Ke,l.ge,l.ev,l.yh,l.XQ,l.Gk,l.Q2,U.Ou,_.uh,_.xY,v.YE,v.nU,x.NW,u.Ov,F.X$,yt.W,Lt.y,ee.M]}),n})();var zt=s(775),Wt=s(6316),Xt=s(3631),en=s(4630),tn=s(9917),nn=s(2491),on=s(4539),te=s(529),rn=s(8032);let an=(()=>{class n{constructor(t,i){this.httpClient=t,this.commonHttpErrorService=i}getDocuments(t){const r=(new te.LE).set("fields",t.fields).set("orderBy",t.orderBy).set("pageSize",t.pageSize.toString()).set("skip",t.skip.toString()).set("searchQuery",t.searchQuery).set("categoryId",t.categoryId).set("name",t.name).set("metaTags",t.metaTags).set("location",t.location).set("id",t.id.toString());return this.httpClient.get("document/assignedDocuments",{params:r,observe:"response"}).pipe((0,Y.K)(this.commonHttpErrorService.handleError))}getDocumentLibrary(t){return this.httpClient.get("document/"+t)}getDocumentViewLibrary(t){return this.httpClient.get("document/view/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(te.eN),e.LFG(rn.U))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var sn=s(1218),cn=s(8265),q=s(8255),mn=s(1676);const ln=["input"],dn=["metatag"],un=function(){return["/add"]};function _n(n,o){1&n&&(e.TgZ(0,"a",45),e._UZ(1,"app-feather-icons",11),e.TgZ(2,"span",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.Q6J("routerLink",e.DdM(7,un)),e.xp6(1),e.Tol("btn-success"),e.Q6J("icon","Plus"),e.xp6(2),e.hij(" ",e.lcZ(4,5,"ADD_DOCUMENT"),""))}function pn(n,o){if(1&n&&(e.TgZ(0,"div")(1,"b"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name,"")}}function gn(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}const hn=function(n){return{"margin-right.px":n}},fn=function(n){return{"margin-left.px":n}};function vn(n,o){if(1&n&&(e.TgZ(0,"ng-option",26)(1,"div",46),e.YNc(2,pn,3,1,"div",47),e.YNc(3,gn,2,1,"div",47),e.qZA()()),2&n){const t=o.$implicit,i=e.oxw();e.Q6J("value",t.id),e.xp6(1),e.Q6J("ngStyle","rtl"===i.direction?e.VKq(4,hn,20*t.deafLevel):e.VKq(6,fn,20*t.deafLevel)),e.xp6(1),e.Q6J("ngIf",!t.parentId),e.xp6(1),e.Q6J("ngIf",t.parentId)}}function Dn(n,o){1&n&&(e.TgZ(0,"th",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"ACTION")," "))}function An(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.editDocument(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"edit"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"EDIT")," "))}function Tn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.manageDocumentPermission(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"share"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"SHARE")," "))}function Zn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.uploadNewVersion(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"upload"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"UPLOAD_NEW_VERSION_FILE")," "))}function xn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.sendEmail(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"forward_to_inbox"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"SEND_EMAIL")," "))}function Cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.archiveDocument(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"archive"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"ARCHIVE")," "))}function bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.deleteDocument(r))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete"),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"DELETE")," "))}function Rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",49)(1,"button",50)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,51)(6,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onDocumentView(a))}),e.TgZ(7,"mat-icon"),e._uU(8,"visibility"),e.qZA(),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.YNc(11,An,5,3,"button",53),e.YNc(12,Tn,5,3,"button",54),e.YNc(13,Zn,5,3,"button",54),e.TgZ(14,"button",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onVersionHistoryClick(a))}),e.TgZ(15,"mat-icon"),e._uU(16," history"),e.qZA(),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.addComment(a))}),e.TgZ(20,"mat-icon"),e._uU(21," chat"),e.qZA(),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.addReminder(a))}),e.TgZ(25,"mat-icon"),e._uU(26,"notifications"),e.qZA(),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,xn,5,3,"button",56),e.YNc(30,Cn,5,3,"button",54),e.YNc(31,bn,5,3,"button",54),e.qZA()()}if(2&n){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(8),e.hij(" ",e.lcZ(10,11,"VIEW")," "),e.xp6(2),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_EDIT_DOCUMENT"),e.xp6(1),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),e.xp6(1),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_UPLOAD_NEW_VERSION"),e.xp6(4),e.hij(" ",e.lcZ(18,13,"VERSION_HISTORY")," "),e.xp6(5),e.hij(" ",e.lcZ(23,15,"COMMENT")," "),e.xp6(5),e.hij(" ",e.lcZ(28,17,"ADD_REMINDER")," "),e.xp6(2),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_SEND_EMAIL"),e.xp6(1),e.Q6J("hasClaim","ALL_DOCUMENTS_ARCHIVE_DOCUMENT"),e.xp6(1),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_DELETE_DOCUMENT")}}function yn(n,o){1&n&&(e.TgZ(0,"th",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NAME")," "))}function Ln(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",49)(1,"a",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onDocumentView(a))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.name)}}function Sn(n,o){1&n&&(e.TgZ(0,"th",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CATEGORY_NAME")," "))}function En(n,o){if(1&n&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.categoryName," ")}}function Nn(n,o){1&n&&(e.TgZ(0,"th",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"STORAGE")))}function Un(n,o){if(1&n&&(e.TgZ(0,"td",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.location.toUpperCase())," ")}}function Fn(n,o){1&n&&(e.TgZ(0,"th",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CREATED_DATE")," "))}function qn(n,o){if(1&n&&(e.TgZ(0,"td",49),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==t?null:t.createdDate,"shortDate")," ")}}function In(n,o){1&n&&(e.TgZ(0,"th",48),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"EXPIRED_DATE")," "))}function On(n,o){if(1&n&&(e.TgZ(0,"td",60),e._uU(1),e.ALo(2,"utcToLocalTime"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,i.getExpiryDate(t.maxRolePermissionEndDate,t.maxUserPermissionEndDate),"shortDate")," ")}}function Yn(n,o){1&n&&(e.TgZ(0,"th",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CREATED_BY")," "))}function Qn(n,o){if(1&n&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.createdByName," ")}}function Jn(n,o){1&n&&e._UZ(0,"tr",61)}function wn(n,o){1&n&&e._UZ(0,"tr",62)}function Mn(n,o){1&n&&(e.TgZ(0,"div",63),e._UZ(1,"mat-spinner"),e.qZA())}const jn=function(){return[10,20,30]};let kn=(()=>{class n extends b.H{constructor(t,i,r,a,c,d,h,f,M,Xn){super(),this.documentLibraryService=t,this.categoryService=i,this.overlay=r,this.clonerService=a,this.documentService=c,this.translationService=d,this.commonService=h,this.toastrService=f,this.dialog=M,this.commonDialogService=Xn,this.documents=[],this.displayedColumns=["action","name","categoryName","location","createdDate","expiredDate","createdBy"],this.isLoadingResults=!0,this.categories=[],this.allCategories=[],this.selection=new re.Ov(!0,[]),this.documentResource=new ne.J,this.documentResource.pageSize=10,this.documentResource.orderBy="createdDate desc"}ngOnInit(){this.dataSource=new oe(this.documentLibraryService),this.dataSource.loadDocuments(this.documentResource),this.getCategories(),this.getResourceParameter(),this.getLangDir()}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(t=>this.direction=t)}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,k.T)(this.sort.sortChange,this.paginator.page).pipe((0,C.b)(()=>{this.documentResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.documentResource.pageSize=this.paginator.pageSize,this.documentResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadDocuments(this.documentResource)})).subscribe(),this.sub$.sink=(0,G.R)(this.input.nativeElement,"keyup").pipe((0,I.b)(1e3),(0,O.x)(),(0,C.b)(()=>{this.paginator.pageIndex=0,this.documentResource.skip=0,this.documentResource.name=this.input.nativeElement.value,this.dataSource.loadDocuments(this.documentResource)})).subscribe(),this.sub$.sink=(0,G.R)(this.metatag.nativeElement,"keyup").pipe((0,I.b)(1e3),(0,O.x)(),(0,C.b)(()=>{this.paginator.pageIndex=0,this.documentResource.skip=0,this.documentResource.metaTags=this.metatag.nativeElement.value,this.dataSource.loadDocuments(this.documentResource)})).subscribe()}onCategoryChange(t){this.documentResource.categoryId=t||"",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}onStorageChange(t){this.documentResource.location=t||"",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}getCategories(){this.categoryService.getAllCategoriesForDropDown().subscribe(t=>{this.categories=t,this.setDeafLevel()})}setDeafLevel(t,i){const r=this.categories.filter(a=>a.parentId==i);return r.length>0&&r.map((a,c)=>{a.deafLevel=t?t.deafLevel+1:0,a.index=(t?t.index:0)+c*Math.pow(.1,a.deafLevel),this.allCategories.push(a),this.setDeafLevel(a,a.id)}),t}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(t=>{t&&(this.documentResource.pageSize=t.pageSize,this.documentResource.skip=t.skip,this.documentResource.totalCount=t.totalCount)})}getDocuments(){this.isLoadingResults=!0,this.sub$.sink=this.documentLibraryService.getDocuments(this.documentResource).subscribe(t=>{const i=JSON.parse(t.headers.get("X-Pagination"));this.documentResource.pageSize=i.pageSize,this.documentResource.skip=i.skip,this.documents=[...t.body],this.isLoadingResults=!1},()=>this.isLoadingResults=!1)}getExpiryDate(t,i){return t&&i?t>i?t:i:t||i||null}addReminder(t){this.dialog.open(je,{data:t,width:"80vw",height:"80vh"})}onReminderList(){this.dialog.open(Kt,{data:null,width:"80vw",maxHeight:"80vh"})}onAddDocument(){const t=this.dialog.open(W,{data:null,width:"80vw",maxHeight:"80vh"});this.sub$.sink=t.afterClosed().subscribe(i=>{i&&this.dataSource.loadDocuments(this.documentResource)})}onDocumentView(t){const r=t.url.split(".")[1];this.overlay.open(ae.Y,{position:"center",origin:"global",panelClass:["file-preview-overlay-container","white-background"],data:{documentId:t.id,name:t.name,extension:r,isRestricted:t.isAllowDownload,isVersion:!1,isFromPreview:!1}})}addDocumentTrail(t,i){this.sub$.sink=this.commonService.addDocumentAuditTrail({documentId:t,operationName:i}).subscribe(()=>{})}addComment(t){const i=this.dialog.open(zt.L,{width:"800px",maxHeight:"70vh",data:Object.assign({},t)});this.sub$.sink=i.afterClosed().subscribe(r=>{"loaded"===r&&this.dataSource.loadDocuments(this.documentResource)})}editDocument(t){const r=this.dialog.open(Xt.c,{width:"600px",data:Object.assign({},{document:t,categories:this.categories})});this.sub$.sink=r.afterClosed().subscribe(a=>{"loaded"===a&&this.dataSource.loadDocuments(this.documentResource)})}onVersionHistoryClick(t){const i=this.clonerService.deepClone(t);this.sub$.sink=this.documentService.getDocumentVersion(t.id).subscribe(r=>{i.documentVersions=r,this.dialog.open(Wt.F,{width:"800px",maxHeight:"70vh",panelClass:"full-width-dialog",data:Object.assign({},i)})})}manageDocumentPermission(t){this.dialog.open(en.z,{data:t,width:"80vw",height:"80vh"})}uploadNewVersion(t){const i=this.dialog.open(tn.B,{width:"800px",maxHeight:"70vh",data:Object.assign({},t)});this.sub$.sink=i.afterClosed().subscribe(r=>{r&&this.dataSource.loadDocuments(this.documentResource)})}sendEmail(t){this.dialog.open(nn.P,{data:t,width:"80vw",height:"80vh"})}archiveDocument(t){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_ARCHIVE"),t.name).subscribe(i=>{i&&(this.sub$.sink=this.documentService.archiveDocument(t.id).subscribe(()=>{this.addDocumentTrail(t.id,w.g.Archived.toString()),this.toastrService.success(this.translationService.getValue("DOCUMENT_ARCHIVED_SUCCESSFULLY")),this.dataSource.loadDocuments(this.documentResource)}))})}deleteDocument(t){this.dialog.open(on.u,{width:"50vw",maxHeight:"70vh"}).afterClosed().subscribe(r=>{r&&(this.sub$.sink=this.documentService.deleteDocument(t.id).subscribe(()=>{this.addDocumentTrail(t.id,w.g.Deleted.toString()),this.toastrService.success(this.translationService.getValue("DOCUMENT_DELETED_SUCCESSFULLY")),this.dataSource.loadDocuments(this.documentResource)}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(an),e.Y36(B.H),e.Y36(sn.T),e.Y36(cn.$),e.Y36(K.Z),e.Y36(S.D),e.Y36(y.v),e.Y36(L._W),e.Y36(_.uw),e.Y36(X.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-document-library-list"]],viewQuery:function(t,i){if(1&t&&(e.Gf(x.NW,5),e.Gf(v.YE,5),e.Gf(ln,5),e.Gf(dn,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.input=r.first),e.iGM(r=e.CRH())&&(i.metatag=r.first)}},features:[e.qOj],decls:87,vars:54,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],["class","btn btn-outline-success btn-sm m-r-10",3,"routerLink",4,"hasClaim"],[1,"btn","btn-danger","btn-sm","m-r-10","text-white",3,"click"],[3,"icon"],[1,"d-none","d-sm-inline"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"row","margin-2"],[1,"col-md-4"],[1,"form-label"],[1,"form-control",3,"placeholder"],["input",""],[1,"col-md-3"],["metatag",""],[3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],[3,"value"],[1,"col"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","categoryName"],["matColumnDef","location"],["matColumnDef","createdDate"],["matColumnDef","expiredDate"],["class","text-danger","mat-cell","",4,"matCellDef"],["matColumnDef","createdBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["class","loading-shade",4,"ngIf"],[1,"btn","btn-outline-success","btn-sm","m-r-10",3,"routerLink"],[1,"country-item",3,"ngStyle"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","type","button",1,"btn","btn-light","btn-sm",3,"click"],["mat-menu-item","","class","btn btn-light btn-sm",3,"click",4,"hasClaim"],["mat-menu-item","","class","btn btn-light btn-sm","type","button",3,"click",4,"hasClaim"],["mat-menu-item","",3,"click"],["class","btn btn-light btn-sm","mat-menu-item","","type","button",3,"click",4,"hasClaim"],["mat-menu-item","",1,"btn","btn-light","btn-sm",3,"click"],["mat-header-cell","","mat-sort-header",""],[1,"doc-link",3,"click"],["mat-cell","",1,"text-danger"],["mat-header-row",""],["mat-row",""],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"div",5)(11,"ul",7)(12,"li",8),e.YNc(13,_n,5,8,"a",9),e.TgZ(14,"a",10),e.NdJ("click",function(){return i.onReminderList()}),e._UZ(15,"app-feather-icons",11),e.TgZ(16,"span",12),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()()()()(),e.TgZ(19,"div",4)(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"label",18),e._uU(26),e.ALo(27,"translate"),e.qZA(),e._UZ(28,"input",19,20),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",21)(32,"label",18),e._uU(33),e.ALo(34,"translate"),e.qZA(),e._UZ(35,"input",19,22),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",21)(39,"label",18),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"ng-select",23),e.NdJ("change",function(a){return i.onCategoryChange(a)}),e.ALo(43,"translate"),e.YNc(44,vn,4,8,"ng-option",24),e.qZA()(),e.TgZ(45,"div",25)(46,"label",18),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"ng-select",23),e.NdJ("change",function(a){return i.onStorageChange(a)}),e.ALo(50,"translate"),e.TgZ(51,"ng-option",26),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"ng-option",26),e._uU(55),e.ALo(56,"translate"),e.qZA()()()(),e.TgZ(57,"div",4)(58,"div",27)(59,"div",28)(60,"table",29),e.ynx(61,30),e.YNc(62,Dn,3,3,"th",31),e.YNc(63,Rn,32,19,"td",32),e.BQk(),e.ynx(64,33),e.YNc(65,yn,3,3,"th",34),e.YNc(66,Ln,3,1,"td",32),e.BQk(),e.ynx(67,35),e.YNc(68,Sn,3,3,"th",34),e.YNc(69,En,2,1,"td",32),e.BQk(),e.ynx(70,36),e.YNc(71,Nn,3,3,"th",34),e.YNc(72,Un,3,3,"td",32),e.BQk(),e.ynx(73,37),e.YNc(74,Fn,3,3,"th",34),e.YNc(75,qn,3,4,"td",32),e.BQk(),e.ynx(76,38),e.YNc(77,In,3,3,"th",31),e.YNc(78,On,3,4,"td",39),e.BQk(),e.ynx(79,40),e.YNc(80,Yn,3,3,"th",34),e.YNc(81,Qn,2,1,"td",32),e.BQk(),e.YNc(82,Jn,1,0,"tr",41),e.YNc(83,wn,1,0,"tr",42),e.qZA(),e._UZ(84,"mat-paginator",43),e.qZA()()()()()()()()(),e.YNc(85,Mn,2,0,"div",44),e.ALo(86,"async")),2&t&&(e.xp6(8),e.Oqu(e.lcZ(9,27,"ASSIGNED_DOCUMENTS")),e.xp6(5),e.Q6J("hasClaim","ASSIGNED_DOCUMENTS_CREATE_DOCUMENT"),e.xp6(2),e.Tol("btn-danger"),e.Q6J("icon","list"),e.xp6(2),e.hij(" ",e.lcZ(18,29,"MY_REMINDERS"),""),e.xp6(9),e.Oqu(e.lcZ(27,31,"SEARCH_DOCUMENT_BY_NAME_OR_DESCRIPTION")),e.xp6(2),e.s9C("placeholder",e.lcZ(30,33,"SEARCH_DOCUMENT_BY_NAME_OR_DESCRIPTION")),e.xp6(5),e.Oqu(e.lcZ(34,35,"SEARCH_DOCUMENT_BY_META_TAGS")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,37,"SEARCH_DOCUMENT_BY_META_TAGS")),e.xp6(5),e.Oqu(e.lcZ(41,39,"SELECT_CATEGORY")),e.xp6(2),e.s9C("placeholder",e.lcZ(43,41,"SELECT_CATEGORY")),e.xp6(2),e.Q6J("ngForOf",i.allCategories),e.xp6(3),e.Oqu(e.lcZ(48,43,"STORAGE")),e.xp6(2),e.s9C("placeholder",e.lcZ(50,45,"STORAGE")),e.xp6(2),e.Q6J("value","local"),e.xp6(1),e.Oqu(e.lcZ(53,47,"LOCAL")),e.xp6(2),e.Q6J("value","s3"),e.xp6(1),e.Oqu(e.lcZ(56,49,"S3")),e.xp6(5),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("length",i.documentResource.totalCount)("pageSize",i.documentResource.pageSize)("pageSizeOptions",e.DdM(53,jn)),e.xp6(1),e.Q6J("ngIf",e.lcZ(86,51,i.dataSource.loading$)))},dependencies:[u.sg,u.O5,u.PC,T.rH,E.RK,N.Hw,q.VK,q.OP,q.p6,mn.A,z.d,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,U.Ou,v.YE,v.nU,x.NW,Z.w9,Z.jq,u.Ov,F.X$,ee.M]}),n})();var Gn=s(319);const Hn=[{path:"",component:kn},{path:"add",component:W,data:{claimType:"ASSIGNED_DOCUMENTS_CREATE_DOCUMENT"},canActivate:[Gn.a]}];let $n=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Bz.forChild(Hn),T.Bz]}),n})();var Vn=s(3417),Pn=s(4586),Bn=s(4144),Kn=s(455),zn=s(3162);let Wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,Vn.m,m.UX,$n,l.p0,U.Cq,_.Is,Kn.rP,v.JX,x.TU,Bn.c,Q.p9,m.u5,Pn.D,E.ot,N.Ps,J.Fk,q.Tx,zn.Cv,g.Ll,g.x,Z.A0]}),n})()}}]);