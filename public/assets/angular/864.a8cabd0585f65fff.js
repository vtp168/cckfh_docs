"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[864],{5519:(v,r,o)=>{o.d(r,{r:()=>l});class l{constructor(){this.fields="",this.orderBy="",this.searchQuery="",this.pageSize=30,this.skip=0,this.name="",this.totalCount=0,this.metaTags=""}}},6864:(v,r,o)=>{o.r(r),o.d(r,{LoginAuditModule:()=>st});var l=o(6895),d=o(6308),m=o(8988),S=o(319),c=o(8739),C=o(5519);class T extends C.r{constructor(){super(...arguments),this.id="",this.userName=""}}var Z=o(6451),x=o(4968),p=o(8505),R=o(8372),b=o(1884),y=o(2676),N=o(1358),g=o(1135),U=o(9646),h=o(262),I=o(8746);class D{get count(){return this._count}constructor(n){this.loginAuditService=n,this.loginAuditSubject=new g.X([]),this.responseHeaderSubject=new g.X(null),this.loadingSubject=new g.X(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this.responseHeaderSubject.asObservable()}connect(){return this.loginAuditSubject.asObservable()}disconnect(){this.loginAuditSubject.complete(),this.loadingSubject.complete()}loadLoginAudits(n){this.loadingSubject.next(!0),this.loginAuditService.getLoginAudits(n).pipe((0,h.K)(()=>(0,U.of)([])),(0,I.x)(()=>this.loadingSubject.next(!1))).subscribe(e=>{const s=new N.E;s.pageSize=parseInt(e.headers.get("pageSize")),s.totalCount=parseInt(e.headers.get("totalCount")),s.skip=parseInt(e.headers.get("skip")),this.responseHeaderSubject.next(s);const u=[...e.body];this._count=u.length,this.loginAuditSubject.next(u)})}}var t=o(4650),A=o(529),j=o(8032);let E=(()=>{class i{constructor(e,s){this.httpClient=e,this.commonHttpErrorService=s}getLoginAudits(e){const u=(new A.LE).set("fields",e.fields).set("orderBy",e.orderBy).set("pageSize",e.pageSize.toString()).set("skip",e.skip.toString()).set("searchQuery",e.searchQuery).set("id",e.id.toString()).set("userName",e.userName.toString());return this.httpClient.get("loginAudit",{params:u,observe:"response"}).pipe((0,h.K)(this.commonHttpErrorService.handleError))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(A.eN),t.LFG(j.U))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var a=o(671),f=o(1572),L=o(9383),O=o(8017);const Y=["input"];function z(i,n){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"DATE_TIME")," "))}function Q(i,n){if(1&i&&(t.TgZ(0,"td",33),t._uU(1),t.ALo(2,"utcToLocalTime"),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.loginTime,"short")," ")}}function B(i,n){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"EMAIL")," "))}function H(i,n){if(1&i&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.userName," ")}}function M(i,n){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"STATUS")," "))}function $(i,n){if(1&i&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,null==e?null:e.status.toUpperCase()))}}function G(i,n){if(1&i&&(t.TgZ(0,"span",37),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,null==e?null:e.status.toUpperCase()))}}function J(i,n){if(1&i&&(t.TgZ(0,"td",33),t.YNc(1,$,3,3,"span",34),t.YNc(2,G,3,3,"span",35),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf","Success"==(null==e?null:e.status)),t.xp6(1),t.Q6J("ngIf","Error"==(null==e?null:e.status))}}function w(i,n){1&i&&(t.TgZ(0,"th",32),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IP_ADDRESS")," "))}function P(i,n){if(1&i&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.remoteIP," ")}}function F(i,n){1&i&&(t.TgZ(0,"th",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij("",t.lcZ(2,1,"LATITUDE")," "))}function X(i,n){if(1&i&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.latitude," ")}}function k(i,n){1&i&&(t.TgZ(0,"th",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"LONGITUDE")," "))}function W(i,n){if(1&i&&(t.TgZ(0,"td",33),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e.longitude," ")}}function K(i,n){1&i&&t._UZ(0,"tr",39)}function V(i,n){1&i&&t._UZ(0,"tr",40)}function q(i,n){1&i&&(t.ynx(0),t.TgZ(1,"div",41)(2,"strong"),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.BQk()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"NO_DATA_FOUND")))}function _(i,n){1&i&&(t.TgZ(0,"div",42),t._UZ(1,"mat-spinner"),t.qZA())}const tt=function(){return[10,20,30]},it=[{path:"",component:(()=>{class i extends y.H{constructor(e){super(),this.loginAuditService=e,this.loginAudits=[],this.displayedColumns=["loginTime","userName","remoteIP","status","latitude","longitude"],this.isLoadingResults=!0,this.loginAuditResource=new T,this.loginAuditResource.pageSize=10,this.loginAuditResource.orderBy="loginTime desc"}ngOnInit(){this.dataSource=new D(this.loginAuditService),this.dataSource.loadLoginAudits(this.loginAuditResource),this.getResourceParameter()}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=(0,Z.T)(this.sort.sortChange,this.paginator.page).pipe((0,p.b)(()=>{this.loginAuditResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.loginAuditResource.pageSize=this.paginator.pageSize,this.loginAuditResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadLoginAudits(this.loginAuditResource)})).subscribe(),this.sub$.sink=(0,x.R)(this.input.nativeElement,"keyup").pipe((0,R.b)(1e3),(0,b.x)(),(0,p.b)(()=>{this.paginator.pageIndex=0,this.loginAuditResource.skip=0,this.loginAuditResource.userName=this.input.nativeElement.value,this.dataSource.loadLoginAudits(this.loginAuditResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.loginAuditResource.pageSize=e.pageSize,this.loginAuditResource.skip=e.skip,this.loginAuditResource.totalCount=e.totalCount)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(E))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-audit-list"]],viewQuery:function(e,s){if(1&e&&(t.Gf(c.NW,5),t.Gf(d.YE,5),t.Gf(Y,5)),2&e){let u;t.iGM(u=t.CRH())&&(s.paginator=u.first),t.iGM(u=t.CRH())&&(s.sort=u.first),t.iGM(u=t.CRH())&&(s.input=u.first)}},features:[t.qOj],decls:50,vars:21,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"row","margin-2"],[1,"col-md-6"],[1,"form-label"],[1,"form-control",3,"placeholder"],["input",""],[1,"col"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","loginTime","matSortDirection","desc",1,"w-100",3,"dataSource"],["matColumnDef","loginTime"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","status"],["matColumnDef","remoteIP"],["matColumnDef","latitude"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","longitude"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[3,"length","pageSize","pageSizeOptions"],["class","loading-shade",4,"ngIf"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","badge bg-success",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],[1,"badge","bg-success"],[1,"badge","bg-warning"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""],[1,"col-sm-12","m-t-15"],[1,"loading-shade"]],template:function(e,s){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),t._uU(8),t.ALo(9,"translate"),t.qZA()()()()()(),t.TgZ(10,"div",4)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"label",12),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"input",13,14),t.ALo(21,"translate"),t.qZA()(),t.TgZ(22,"div",4)(23,"div",15)(24,"div",16)(25,"table",17),t.ynx(26,18),t.YNc(27,z,3,3,"th",19),t.YNc(28,Q,3,4,"td",20),t.BQk(),t.ynx(29,21),t.YNc(30,B,3,3,"th",19),t.YNc(31,H,2,1,"td",20),t.BQk(),t.ynx(32,22),t.YNc(33,M,3,3,"th",19),t.YNc(34,J,3,2,"td",20),t.BQk(),t.ynx(35,23),t.YNc(36,w,3,3,"th",19),t.YNc(37,P,2,1,"td",20),t.BQk(),t.ynx(38,24),t.YNc(39,F,3,3,"th",25),t.YNc(40,X,2,1,"td",20),t.BQk(),t.ynx(41,26),t.YNc(42,k,3,3,"th",25),t.YNc(43,W,2,1,"td",20),t.BQk(),t.YNc(44,K,1,0,"tr",27),t.YNc(45,V,1,0,"tr",28),t.qZA(),t.YNc(46,q,5,3,"ng-container",29),t._UZ(47,"mat-paginator",30),t.qZA()()()()()()()()(),t.YNc(48,_,2,0,"div",31),t.ALo(49,"async")),2&e&&(t.xp6(8),t.Oqu(t.lcZ(9,12,"LOGIN_AUDIT_LOGS")),t.xp6(9),t.Oqu(t.lcZ(18,14,"SEARCH_BY_USERNAME")),t.xp6(2),t.s9C("placeholder",t.lcZ(21,16,"SEARCH_BY_USERNAME")),t.xp6(6),t.Q6J("dataSource",s.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",s.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===s.dataSource.count),t.xp6(1),t.Q6J("length",s.loginAuditResource.totalCount)("pageSize",s.loginAuditResource.pageSize)("pageSizeOptions",t.DdM(20,tt)),t.xp6(1),t.Q6J("ngIf",t.lcZ(49,18,s.dataSource.loading$)))},dependencies:[l.O5,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,f.Ou,d.YE,d.nU,c.NW,l.Ov,L.X$,O.M],styles:[".badge[_ngcontent-%COMP%]{font-weight:400;padding:.5em .6em}"]}),i})(),data:{claimType:"LOGIN_AUDIT_VIEW_LOGIN_AUDIT_LOGS"},canActivate:[S.a]}];let et=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(it),m.Bz]}),i})();var nt=o(4144),ot=o(4586);let st=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.ez,a.p0,f.Cq,d.JX,c.TU,nt.c,et,L.aw,ot.D]}),i})()}}]);